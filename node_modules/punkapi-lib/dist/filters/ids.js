"use strict";

var filter = require("lodash/filter");

var includes = require("lodash/includes");

var curry = require("lodash/curry");

function idsFilter(val, db) {
  if (val == null) return db;
  var idArray = val.split("|").map(Number);
  return filter(db, function (b) {
    return includes(idArray, b.id);
  });
}

module.exports = curry(idsFilter);