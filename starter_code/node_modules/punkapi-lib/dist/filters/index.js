'use strict';

var pipe = require('lodash/fp/flow');

// Filters

var _require = require('./abv'),
    abvGtFilter = _require.abvGtFilter,
    abvLtFilter = _require.abvLtFilter;

var _require2 = require('./ebc'),
    ebcGtFilter = _require2.ebcGtFilter,
    ebcLtFilter = _require2.ebcLtFilter;

var _require3 = require('./ibu'),
    ibuGtFilter = _require3.ibuGtFilter,
    ibuLtFilter = _require3.ibuLtFilter;

var _require4 = require('./brewed'),
    brewedBeforeFilter = _require4.brewedBeforeFilter,
    brewedAfterFilter = _require4.brewedAfterFilter;

var beerNameFilter = require('./beerName');
var foodFilter = require('./food');
var hopsFilter = require('./hops');
var maltFilter = require('./malt');
var yeastFilter = require('./yeast');
var idsFilter = require('./ids');

function filters(db, opts) {
  var abv_gt = opts.abv_gt,
      abv_lt = opts.abv_lt,
      ibu_gt = opts.ibu_gt,
      ibu_lt = opts.ibu_lt,
      ebc_gt = opts.ebc_gt,
      ebc_lt = opts.ebc_lt,
      beer_name = opts.beer_name,
      yeast = opts.yeast,
      brewed_before = opts.brewed_before,
      brewed_after = opts.brewed_after,
      hops = opts.hops,
      malt = opts.malt,
      food = opts.food,
      ids = opts.ids;


  return pipe(abvGtFilter(abv_gt), abvLtFilter(abv_lt), ebcGtFilter(ebc_gt), ebcLtFilter(ebc_lt), ibuGtFilter(ibu_gt), ibuLtFilter(ibu_lt), brewedBeforeFilter(brewed_before), brewedAfterFilter(brewed_after), beerNameFilter(beer_name), foodFilter(food), hopsFilter(hops), maltFilter(malt), yeastFilter(yeast), idsFilter(ids))(db);
}

module.exports = filters;